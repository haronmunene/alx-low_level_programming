nested loops and C functions
